<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浅拷贝和深拷贝 | 前端博客</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="一条咸鱼的分享之路">
    
    <link rel="preload" href="/xianyu-blog-websit/assets/css/0.styles.edf72b64.css" as="style"><link rel="preload" href="/xianyu-blog-websit/assets/js/app.ebd9a84e.js" as="script"><link rel="preload" href="/xianyu-blog-websit/assets/js/2.f6d89a84.js" as="script"><link rel="preload" href="/xianyu-blog-websit/assets/js/18.68bc2032.js" as="script"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/10.5b45c734.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/11.a3e1aedc.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/12.3bdd7b61.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/13.8c2b277b.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/14.1a858352.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/15.8577c433.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/16.943f8b19.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/17.806625e9.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/19.2eae62a4.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/20.180e3e6c.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/21.28027e34.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/22.bc34a169.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/23.e1ab6912.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/24.9625ffda.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/3.8d503b6a.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/4.e1ee576b.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/5.31ad1a7a.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/6.0c96cb81.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/7.0a45b1c3.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/8.e7e3a0e6.js"><link rel="prefetch" href="/xianyu-blog-websit/assets/js/9.088905b0.js">
    <link rel="stylesheet" href="/xianyu-blog-websit/assets/css/0.styles.edf72b64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/xianyu-blog-websit/" class="home-link router-link-active"><!----> <span class="site-name">前端博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Html</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xianyu-blog-websit/html/HTML5语义化与新特性.html" class="sidebar-link">HTML5语义化与新特性</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Css</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xianyu-blog-websit/css/BFC.html" class="sidebar-link">BFC</a></li><li><a href="/xianyu-blog-websit/css/清除浮动.html" class="sidebar-link">清除浮动</a></li><li><a href="/xianyu-blog-websit/css/CSS选择器.html" class="sidebar-link">CSS选择器</a></li><li><a href="/xianyu-blog-websit/css/CSS盒模型.html" class="sidebar-link">CSS盒模型</a></li><li><a href="/xianyu-blog-websit/css/Position定位.html" class="sidebar-link">Position定位</a></li><li><a href="/xianyu-blog-websit/css/元素水平垂直居中方法.html" class="sidebar-link">元素水平垂直居中方法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xianyu-blog-websit/js/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/xianyu-blog-websit/js/防抖和节流.html" class="sidebar-link">防抖和节流</a></li><li><a href="/xianyu-blog-websit/js/浅拷贝和深拷贝.html" class="active sidebar-link">浅拷贝和深拷贝</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/xianyu-blog-websit/js/继承的几种方式.html" class="sidebar-link">继承的几种方式</a></li><li><a href="/xianyu-blog-websit/js/JS单线程和EventLoop.html" class="sidebar-link">JS单线程和Event loop</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/xianyu-blog-websit/vue/vue组件化.html" class="sidebar-link">Vue组件化</a></li><li><a href="/xianyu-blog-websit/vue/vue的响应式原理.html" class="sidebar-link">vue 的响应式原理</a></li><li><a href="/xianyu-blog-websit/vue/Vue虚拟DOM和diff算法.html" class="sidebar-link">Vue虚拟DOM和diff算法</a></li><li><a href="/xianyu-blog-websit/vue/Typescript在Vue项目中用法.html" class="sidebar-link">Typescript在Vue项目中用法</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="header-anchor">#</a> 浅拷贝和深拷贝</h1> <h3 id="一、浅拷贝"><a href="#一、浅拷贝" class="header-anchor">#</a> 一、浅拷贝</h3> <h4 id="_1-什么是浅拷贝"><a href="#_1-什么是浅拷贝" class="header-anchor">#</a> 1.什么是浅拷贝</h4> <h6 id="浅拷贝是创建一个新对象-这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本数据类型-拷贝的就是基本类型的值-如果属性是引用类型-拷贝的就是内存地址-所以如果其中一个引用类型的值改变了-就会影响另一个对象。"><a href="#浅拷贝是创建一个新对象-这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本数据类型-拷贝的就是基本类型的值-如果属性是引用类型-拷贝的就是内存地址-所以如果其中一个引用类型的值改变了-就会影响另一个对象。" class="header-anchor">#</a> 浅拷贝是创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本数据类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址，所以如果其中一个引用类型的值改变了，就会影响另一个对象。</h6> <h6 id="浅拷贝只是拷贝一层-更深层次对象值拷贝引用。"><a href="#浅拷贝只是拷贝一层-更深层次对象值拷贝引用。" class="header-anchor">#</a> 浅拷贝只是拷贝一层，更深层次对象值拷贝引用。</h6> <h4 id="_2-直接赋值和浅拷贝的区别"><a href="#_2-直接赋值和浅拷贝的区别" class="header-anchor">#</a> 2.直接赋值和浅拷贝的区别</h4> <h5 id="_1-直接赋值是对引用类型原数据引用地址的拷贝-和原数据是同一个对象-数据也会相互影响"><a href="#_1-直接赋值是对引用类型原数据引用地址的拷贝-和原数据是同一个对象-数据也会相互影响" class="header-anchor">#</a> 1.直接赋值是对引用类型原数据引用地址的拷贝，和原数据是同一个对象，数据也会相互影响</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'闲鱼'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'鹦鹉'</span><span class="token punctuation">,</span> <span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token string">'狗'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> obj<span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'贫穷的闲鱼'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: '贫穷的闲鱼', age: 18, pets: Array(3)}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj1'</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: '贫穷的闲鱼', age: 18, pets: Array(3)}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj === obj1'</span><span class="token punctuation">,</span> obj <span class="token operator">===</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h5 id="_2-浅拷贝是创建一个新对象-和原数据不是同一个对象。只会拷贝第一层-因此第一层数据不会相互影响-但是深层对象还是会相互影响"><a href="#_2-浅拷贝是创建一个新对象-和原数据不是同一个对象。只会拷贝第一层-因此第一层数据不会相互影响-但是深层对象还是会相互影响" class="header-anchor">#</a> 2.浅拷贝是创建一个新对象，和原数据不是同一个对象。只会拷贝第一层，因此第一层数据不会相互影响，但是深层对象还是会相互影响</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'闲鱼'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'鹦鹉'</span><span class="token punctuation">,</span> <span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token string">'狗'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span>pets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'和尚鹦鹉'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: '闲鱼', age: 18, pets: ['和尚鹦鹉', '猫', '狗']}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj1'</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: '闲鱼', age: 18, pets: ['和尚鹦鹉', '猫', '狗']}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj === obj1'</span><span class="token punctuation">,</span> obj <span class="token operator">===</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h4 id="_3-如何实现浅拷贝"><a href="#_3-如何实现浅拷贝" class="header-anchor">#</a> 3.如何实现浅拷贝</h4> <h5 id="_1-扩展运算符"><a href="#_1-扩展运算符" class="header-anchor">#</a> 1.扩展运算符（...）</h5> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'闲鱼'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'鹦鹉'</span><span class="token punctuation">,</span> <span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token string">'狗'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_2-object-assign"><a href="#_2-object-assign" class="header-anchor">#</a> 2.Object.assign()</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'闲鱼'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'鹦鹉'</span><span class="token punctuation">,</span> <span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token string">'狗'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_3-array-prototype-concat"><a href="#_3-array-prototype-concat" class="header-anchor">#</a> 3.Array.prototype.concat()</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> petArr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'牛油果'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> <span class="token string">'和尚鹦鹉'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'兜兜'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> <span class="token string">'玄风鹦鹉'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> petArr1 <span class="token operator">=</span> petArr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_4-array-prototype-slice"><a href="#_4-array-prototype-slice" class="header-anchor">#</a> 4.Array.prototype.slice()</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> petArr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'牛油果'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> <span class="token string">'和尚鹦鹉'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'兜兜'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">animal</span><span class="token operator">:</span> <span class="token string">'玄风鹦鹉'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> petArr1 <span class="token operator">=</span> petArr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="二、深拷贝"><a href="#二、深拷贝" class="header-anchor">#</a> 二、深拷贝</h3> <h4 id="_1-什么是深拷贝"><a href="#_1-什么是深拷贝" class="header-anchor">#</a> 1.什么是深拷贝</h4> <h6 id="深拷贝是将一个对象从内存中完整的拷贝一份出来-从堆内存中开辟一个新的区域存放新对象-且修改新对象不会相互影响。"><a href="#深拷贝是将一个对象从内存中完整的拷贝一份出来-从堆内存中开辟一个新的区域存放新对象-且修改新对象不会相互影响。" class="header-anchor">#</a> 深拷贝是将一个对象从内存中完整的拷贝一份出来,从堆内存中开辟一个新的区域存放新对象,且修改新对象不会相互影响。</h6> <h6 id="深拷贝拷贝多层-每一层的数据都会拷贝。"><a href="#深拷贝拷贝多层-每一层的数据都会拷贝。" class="header-anchor">#</a> 深拷贝拷贝多层，每一层的数据都会拷贝。</h6> <h4 id="_2-如何实现深拷贝"><a href="#_2-如何实现深拷贝" class="header-anchor">#</a> 2.如何实现深拷贝</h4> <h5 id="_1-json-parse-json-stringify-obj"><a href="#_1-json-parse-json-stringify-obj" class="header-anchor">#</a> 1.JSON.parse(JSON.stringify(obj))</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'闲鱼'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'鹦鹉'</span><span class="token punctuation">,</span> <span class="token string">'猫'</span><span class="token punctuation">,</span> <span class="token string">'狗'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span>pets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'和尚鹦鹉'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: '闲鱼', age: 18, pets: ['鹦鹉', '猫', '狗']}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj1'</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: '闲鱼', age: 18, pets: ['和尚鹦鹉', '猫', '狗']}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj === obj1'</span><span class="token punctuation">,</span> obj <span class="token operator">===</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h6 id="json-parse-json-stringify-obj-是有缺陷的"><a href="#json-parse-json-stringify-obj-是有缺陷的" class="header-anchor">#</a> JSON.parse(JSON.stringify(obj))是有缺陷的：</h6> <h6 id="由于json-parse是用来解析json字符串的么-对function类型、date类型、值为undefied的属性-会有拷贝异常的问题"><a href="#由于json-parse是用来解析json字符串的么-对function类型、date类型、值为undefied的属性-会有拷贝异常的问题" class="header-anchor">#</a> 由于JSON.parse是用来解析JSON字符串的么，对function类型、Date类型、值为undefied的属性，会有拷贝异常的问题</h6> <h5 id="_2-手写深拷贝"><a href="#_2-手写深拷贝" class="header-anchor">#</a> 2.手写深拷贝</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h6 id="该方法只考虑-object-类型-对date、symbol、regrxp等其他类型不支持。"><a href="#该方法只考虑-object-类型-对date、symbol、regrxp等其他类型不支持。" class="header-anchor">#</a> 该方法只考虑 object 类型，对Date、Symbol、RegRxp等其他类型不支持。</h6> <h6 id="该方法对date、function属性-循环引用等情况未做边界处理。"><a href="#该方法对date、function属性-循环引用等情况未做边界处理。" class="header-anchor">#</a> 该方法对Date、function属性，循环引用等情况未做边界处理。</h6> <h6 id="如果对边界情况要求高的场景-推荐使用-lodash-deepclone"><a href="#如果对边界情况要求高的场景-推荐使用-lodash-deepclone" class="header-anchor">#</a> 如果对边界情况要求高的场景，推荐使用 lodash.deepClone()</h6></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/xianyu-blog-websit/js/防抖和节流.html" class="prev">
        防抖和节流
      </a></span> <span class="next"><a href="/xianyu-blog-websit/js/继承的几种方式.html">
        继承的几种方式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/xianyu-blog-websit/assets/js/app.ebd9a84e.js" defer></script><script src="/xianyu-blog-websit/assets/js/2.f6d89a84.js" defer></script><script src="/xianyu-blog-websit/assets/js/18.68bc2032.js" defer></script>
  </body>
</html>
